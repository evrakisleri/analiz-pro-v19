<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Öğretmen Paneli</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white p-6">
    <h1 class="text-xl font-bold text-orange-400 mb-4 border-b border-orange-900 pb-2 text-center italic">ÖĞRETMEN ANALİZ EKRANI</h1>
    <div id="teacherContent" class="bg-gray-800 p-6 rounded border border-gray-700 text-center">
        Veriler getiriliyor...
    </div>

    <script type="module">
        import { supabase } from './supabaseClient.js';
        async function load() {
            const { data: { user } } = await supabase.auth.getUser();
            if (!user) { window.location.href = 'index.html'; return; }

            const { data: profile } = await supabase.from('users').select('*').eq('email', user.email).single();
            if (profile?.role === 'teacher' || profile?.role === 'admin') {
                document.getElementById('teacherContent').innerHTML = `
                    <p class="text-lg">Hoş Geldiniz, <b>${profile.full_name}</b></p>
                    <p class="text-sm text-gray-400 mt-2">Branş: ${profile.class_branch}</p>
                `;
            } else { window.location.href = 'index.html'; }
        }
        load();
    </script>
</body>
</html>
